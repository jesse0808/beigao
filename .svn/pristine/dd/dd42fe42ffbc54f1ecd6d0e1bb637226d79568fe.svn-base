<template>
    <div class="ds" ref="minHeight">
        <div class="box_center">
            <div class="ds_game5">
                <img src="../../assets/img/electron/GameiconG.png" alt="">
                <img hidden src="../../assets/img/electron/GameiconC.png" alt="">
            </div> 
            <div class="ds_box">
                <div class="fy_div" @click="toGame(gameData)">
                    <img src="../../assets/img/electron/fanya.png" alt="">
                </div>
                <div class="qd_div">
                    <img src="../../assets/img/electron/qidai.png" alt="">
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    import {postAjax} from "../../util/ajax";
    import {SysKey} from "../../util/sysconfig";
    import {game} from "../../mixins/game";

    export default {
        name: "electron",
        mixins:[game],
        data() {
            return {
                gamesArr: [],
                name: '',
                PIndex: 1,
                PSize: 20,
                url: SysKey("ImgServerUrl").SysValue,
                gameData:{
                  GameCode: 'lobby',
                  GameId: '14',
                }
            }
        },
        created() {
            this.getGamesArr()
        },
        methods: {
            getGamesArr() {
                let that = this;
                let url = `api/ThirdGame/GetGameList?g=14&d=1`;
                let data = {
                    name: this.name,
                    PIndex: this.PIndex,
                    PSize: this.PSize,
                    Category:103
                };
                postAjax(url,data).then(function (data) {
                    if (data.IsSucess) {
                        that.gamesArr = data.Data.rows;
                    }
                })
            },
        }
    }
</script>

<style lang="scss" scoped>
    .ds {
        width: 100%;
        min-width: 1200px;
        height: 54.27vw;
        min-height: 800px;
        background: url(../../assets/img/electron/GameAthletics_bg.png) no-repeat 0 0/100% 100%;

        .box_center{
          
            .ds_game5{
                position: absolute;
                top: 640px;
                left: 0;
                right: 0;
                margin: auto;
                width: 466px;

                &:hover{

                    img{

                        &:first-child{
                            display: none;
                        }

                        &:last-child{
                            display: block;
                        }
                    }  
                }
            }

            .ds_box{
                position: absolute;
                top: 237px;
                left: 0;
                display: flex;
                justify-content: center;
                width: 100%;
                height: 392px;
                z-index: 3;

                .fy_div{
                    width: 215px;
                    height: 392px;
                    cursor: pointer;
                    margin-right: 40px;
                    transition: all .3s;

                    &:hover{
                        opacity: .8;
                    }
                }

                .qd_div{

                    img{
                        margin-top: 13px;
                    }
                }
            }
        }
    }
</style>
