<template>
    <div class="sum_item">
        <div class="sum_box">
            <div class="sum_money">
                <label>投注金额</label>
                <input type="text" v-model="value">
                <p class="sum_class">
                    当前选择<strong>{{noteNumber}}</strong>注&emsp;共<strong>{{noteMoney}}</strong>元
                </p>
            </div>
            <div class="select_money">
                <a href="javascript:void(0)" v-for="(item,index) in moneyData" :key="index" @click="onclickMoney(item,index)">
                    <img :src="item.bgUrl" alt="">
                </a>
            </div>
            <div class="user_btn_box">
                <a href="javascript:void(0)" class="direct_bet" @click="betFun">快速投注</a>
                <a href="javascript:void(0)" class="delete_num" @click="clearFun">清空<i class="el-icon-delete"></i></a>
            </div>
        </div>
        <div></div>
    </div>
</template>

<script>
    import img1 from '../../assets/img/bottom/icon_lhc_chips10.png'
    import img2 from '../../assets/img/bottom/icon_lhc_chips50.png'
    import img3 from '../../assets/img/bottom/icon_lhc_chips100.png'
    import img4 from '../../assets/img/bottom/icon_lhc_chips500.png'
    import img5 from '../../assets/img/bottom/icon_lhc_chips1000.png'
    export default {
        name: "sumItem",
        props:["noteNumber","noteMoney"],
        data() {
            return {
                value: '',
                moneyData: [
                    {
                        text: 10,
                        checked: false,
                        bgUrl: img1
                    },
                    {
                        text: 50,
                        checked: false,
                        bgUrl: img2
                    },
                    {
                        text: 100,
                        checked: false,
                        bgUrl: img3
                    },
                    {
                        text: 500,
                        checked: false,
                        bgUrl: img4
                    },
                    {
                        text: 1000,
                        checked: false,
                        bgUrl: img5
                    },  
                ]
            }
        },
        watch: {
            value() {
                this.value = parseInt(this.value.toString().replace(/[^\d]/g, ''))
                if (this.value > 0) {
                    this.$emit('returnSelectNum', this.value)
                } else {
                    this.value = ''
                    this.$emit('returnSelectNum', 0)
                }
            }
        },
        methods: {
            //快捷输入
            onclickMoney(data, index) {
                this.value = data.text
            },
            //清除功能
            clearFun() {
                this.$emit('returnClearFun')
                this.value = ''
                this.moneyData.forEach((item) => {
                  item.checked = false
                })
            },
            //投注功能
            betFun() {
                this.$emit('returnBetFun')
            }
        }
    }
</script>

<style lang="scss" scoped>
    .sum_item {
        width: 100%;
        padding: 20px 20px;

        .sum_box {
            display: flex;
            justify-content: space-between;

            .sum_money {
                width:260px;
                padding-top: 7px;
                line-height: 30px;
                font-size: 12px;
                color: #626262;

                label,p{
                    font-size: 14px;
                }

                input {
                    width: 123px;
                    height: 30px;
                    padding: 0 10px;
                    font-size: 14px;
                    border-radius: 6px;
                    border: 1px solid #C6D1D0;
                    outline: none;
                    background: none;
                }

                strong{
                    color: #FE6D60;
                    margin: 0 3px;
                }
            }

            .select_money {
                width:280px;
                display: flex;
                justify-content: space-between;
                align-items: center;

                a {
                    display: inline-block;
                    width: 49px;
                    height: 48px;

                    &:hover{
                        img{
                            animation:myRotate .5s linear reverse;
                        }
                    }
                    @-webkit-keyframes myRotate{
                        0%{ -webkit-transform: rotateX(0deg);}
                        50%{ -webkit-transform: rotateX(180deg);}
                        100%{ -webkit-transform: rotateX(360deg);}
                    }
                    @keyframes myRotate{
                        0%{ -webkit-transform: rotateX(0deg);}
                        50%{ -webkit-transform: rotateX(180deg);}
                        100%{ -webkit-transform: rotateX(360deg);}
                    }
                }
            }

            .user_btn_box {
                display: flex;
                justify-content:space-between;
                width:210px;

                .delete_num{

                    i{
                        margin-left: 2px;
                    }
                }
            }
        }

    }
</style>
