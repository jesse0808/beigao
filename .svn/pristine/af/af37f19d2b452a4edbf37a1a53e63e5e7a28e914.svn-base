<template>
    <!-- 龙虎斗游戏组件 -->
    <div class="Dragon_Tiger_box" v-if="gameid == 93">
        <!--  dragon_select -->
        <a class="dragon_itembox_big" v-for="(item,index) in gameary" :key="index"
            :data-state="item.state" @click="selectGame" :data-index="index">
            <h3 :class="[item.state=='true'?'dragon_select big_icon':'']">{{item.name}}</h3>
        </a>
    </div>
    <div class="Dragon_Tiger_box" v-else>
        <!--  dragon_select -->
        <a class="dragon_itembox" v-for="(item,index) in gameary" :key="index"
            :data-state="item.state" @click="selectGame" :data-index="index">
            <h3 :class="[item.state=='true'?item.selectNav:item.unselectNav]"></h3>
            <p>￥{{item.odds}}</p>
        </a>
    </div>
</template>

<script>
    export default {
        props: {
            gameary: {
                type: Array,
                required: true
            },
            gameid: {
                type: Number,
                required: true
            }
        },
        data() {
            return {
                selectAry: [] //选择玩法后返回父组件数组
            }
        },
        methods: {
            // 选中龙虎斗数组
            selectGame(e) {
                let that = this;
                let indexs = e.currentTarget.dataset.index
                let sta = e.currentTarget.dataset.state
                if (sta == "false") {
                    that.gameary[indexs].state = "true"
                    that.selectAry.push(that.gameary[indexs].name)

                } else if (sta == "true") {
                    that.gameary[indexs].state = "false"
                    let ids = that.selectAry.indexOf(that.gameary[indexs].name)
                    if (ids > -1) {
                        that.selectAry.splice(ids, 1)
                    }
                }
                this.$emit("setdata", that.selectAry)
                this.setNum()
            },
            //设置注数
            setNum() {
                this.$emit("setbet", this.selectAry.length)
            }
        }
    }
</script>

<style lang="scss" scoped>
    .Dragon_Tiger_box {
        display: flex;
        justify-content:flex-start;
        flex-wrap: wrap;
        width: 780px;
        margin: 0 auto;
        margin-top: 20px;
        padding: 10px 0;
        border-radius: 5px;

        .dragon_itembox,.dragon_itembox_big {
            float: left;
            text-align: center;
            line-height: 24px;
            color: #18191a;
            cursor: pointer;
            margin: 8px;
        }

        .dragon_itembox_big{

            h3 {
                width: 140px;
                height: 48px;
                border-radius: 5px;
                margin: 0 auto;
                font-size: 16px;
                font-weight: normal;
                font-stretch: normal;
                line-height: 48px;
                text-align: center;
                letter-spacing: 1px;
            }
        }

        .dragon_itembox{

            h3 {
                width: 60px;
                height: 60px;
                margin: 0 auto;
                border-radius: 100%;
            }

            p {
                margin-top: 8px;
                font-size: 12px;
                color: #9b9b9b;
            }
        }

        .dragon_select {
            background: #008573 !important;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.4) !important;
            color: white !important;

            p {
                color: white;
            }
        }

        .loong_icon{
            background: url(../../assets/img/gametype/loong.png) no-repeat 0 0/cover;
        }

        .unlong_icon{
            background: url(../../assets/img/gametype/unloong.png) no-repeat 0 0/cover;
        }

        .tiger_icon{
            background: url(../../assets/img/gametype/tiger.png) no-repeat 0 0/cover;
        }

        .untiger_icon{
            background: url(../../assets/img/gametype/untiger.png) no-repeat 0 0/cover;
        }

        .and_icon{
            background: url(../../assets/img/gametype/and.png) no-repeat 0 0/cover;
        }

        .unand_icon{
            background: url(../../assets/img/gametype/unand.png) no-repeat 0 0/cover;
        }
    }
</style>


